(this["webpackJsonpsilhouette-gusser"]=this["webpackJsonpsilhouette-gusser"]||[]).push([[0],{110:function(e,t){},144:function(e,t){},190:function(e,t,n){},191:function(e,t,n){},194:function(e,t){},201:function(e,t,n){"use strict";n.r(t);var a=n(19),r=n.n(a),i=n(165),l=n.n(i),o=(n(190),n(172)),c=n(215),u=n(216),s=n(217),g=n(218),d=n(225),p=n(175),b=n(53),f=n(173),j=(n(191),n(192),n(52)),m=window.geolonia,h=new m.Marker({color:"#FF0000",draggable:!0}),y=new m.Marker({color:"#FF0000",draggable:!0});var v=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useRef)(null),r=Object(a.useMemo)((function(){var e;return[{lng:139.746247,lat:35.659103},{lng:139.775039823498,lat:35.62688839051935},{lng:139.7425465928838,lat:35.62901450284541},{lng:139.73098887729316,lat:35.634774933759935},{lng:139.73084512638385,lat:35.64045446313923},{lng:139.73081620816902,lat:35.64998949295825},{lng:139.726025422902,lat:35.652420489771295},{lng:139.7410097090811,lat:35.65267872518089},{lng:139.75412546592008,lat:35.665835434143766},{lng:139.73210944808986,lat:35.67121154298727},{lng:139.7148656884602,lat:35.66547356765915},{lng:139.7303179953378,lat:35.676509652592905},{lng:139.75763097559113,lat:35.665074208904436}][(e=14,Math.floor(Math.random()*e))]}),[]),i=Object(a.useState)(null),l=Object(o.a)(i,2),v=l[0],O=l[1];Object(a.useLayoutEffect)((function(){t.current&&null===e.current&&(e.current=new m.Map({container:t.current,style:"geolonia/basic",interactive:!0,center:[r.lng,r.lat],zoom:10,pitch:0}),e.current.on("click",(function(t){y.setLngLat(t.lngLat).addTo(e.current),O(t.lngLat)})))}),[t,r.lng,r.lat]);var w=new d.a({far:1e4,controller:{keyboard:{moveSpeed:100},inertia:100}}),x=new u.a({id:"terrain",minZoom:0,maxZoom:14,elevationDecoder:{rScaler:6553.6,gScaler:25.6,bScaler:.1,offset:-9965},elevationData:"https://tileserver-dev.geolonia.com/gsi-dem/tiles/{z}/{x}/{y}.png",texture:"https://cyberjapandata.gsi.go.jp/xyz/seamlessphoto/{z}/{x}/{y}.jpg",wireframe:!1,color:[255,255,255],pickable:!1,opacity:.5}),L=new s.a({id:"tile-3d-layer",pointSize:1,data:"https://raw.githubusercontent.com/naogify/silhouette-gusser/main/public/tile3d/tileset.json",loader:g.a,pickable:!0,opacity:.8});return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{ref:t,id:"mini-map"}),Object(j.jsx)("div",{ref:n,id:"score"}),Object(j.jsx)(f.a,{id:"guess-btn",onClick:function(){return function(t,a){if(!t||!a)return!1;var r=[a.lng,a.lat],i=[t.lng,t.lat],l=Object(b.c)(r),o=Object(b.c)(i),c=1e3*Object(p.a)(l,o);n.current.innerHTML="".concat(Math.round(c),"m"),h.setLngLat(t).addTo(e.current),e.current.addSource("line-marker",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[r,i]}}}),e.current.addLayer({id:"line",type:"line",source:"line-marker",layout:{},paint:{"line-color":"#000000","line-width":5}})}(r,v)},variant:"primary",children:"Guess"}),Object(j.jsx)(c.a,{views:w,mapStyle:"geolonia/gsi",initialViewState:{longitude:r.lng,latitude:r.lat,pitch:0,bearing:0,maxPitch:0,minPitch:0,position:[0,0,100]},controller:!0,layers:[x,L]})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,227)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,l=t.getTTFB;n(e),a(e),r(e),i(e),l(e)}))};l.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root")),O()}},[[201,1,2]]]);
//# sourceMappingURL=main.9e70614d.chunk.js.map